# ç»Ÿä¸€å›¾ç‰‡å­˜å‚¨è®¾ç½®å®Œæˆ

## ğŸ¯ å·²å®Œæˆçš„å·¥ä½œ

### âœ… 1. åˆ›å»ºç»Ÿä¸€å­˜å‚¨æ¡¶
- åˆ›å»ºäº† `golf-club-images` ç»Ÿä¸€å­˜å‚¨æ¡¶
- è®¾ç½®äº†ç»Ÿä¸€çš„æƒé™ç­–ç•¥
- æ”¯æŒæ‰€æœ‰å›¾ç‰‡æ ¼å¼ (JPEG, PNG, GIF, WebP)

### âœ… 2. æ›´æ–°ä»£ç å¼•ç”¨
å·²æ›´æ–°ä»¥ä¸‹æ–‡ä»¶ä¸­çš„ bucket å¼•ç”¨ï¼š

**æ ¸å¿ƒå·¥å…·æ–‡ä»¶ï¼š**
- `src/utils/imageUpload.ts` - é»˜è®¤ä½¿ç”¨ `golf-club-images`

**ç»„ä»¶æ–‡ä»¶ï¼š**
- `src/components/TinyMCEEditor.tsx` - æ–‡ç« å›¾ç‰‡ä¸Šä¼ 
- `src/components/PosterForm.tsx` - æµ·æŠ¥å›¾ç‰‡ä¸Šä¼ 
- `src/components/ExpenseAdmin.tsx` - è´¹ç”¨å‡­è¯ä¸Šä¼ 
- `src/components/EventForm.tsx` - æ´»åŠ¨äºŒç»´ç ä¸Šä¼ 
- `src/components/EventRegistrationModal.tsx` - æ”¯ä»˜è¯æ˜ä¸Šä¼ 
- `src/components/InvestmentProjectForm.tsx` - æŠ•èµ„äºŒç»´ç ä¸Šä¼ 

### âœ… 3. æ–‡ä»¶è·¯å¾„ç»“æ„
```
golf-club-images/
â”œâ”€â”€ posters/          # æµ·æŠ¥å›¾ç‰‡
â”œâ”€â”€ events/           # æ´»åŠ¨å›¾ç‰‡
â”œâ”€â”€ articles/         # æ–‡ç« å›¾ç‰‡
â”œâ”€â”€ avatars/          # ç”¨æˆ·å¤´åƒ
â”œâ”€â”€ expenses/         # è´¹ç”¨å‡­è¯å›¾ç‰‡
â””â”€â”€ payment-proofs/   # æ”¯ä»˜è¯æ˜å›¾ç‰‡
```

## ğŸ”§ ä¸‹ä¸€æ­¥æ“ä½œ

### 1. åœ¨ Supabase ä¸­æ‰§è¡Œ SQL
```sql
-- æ‰§è¡Œ create-unified-image-storage.sql
-- è¿™ä¼šåˆ›å»ºå­˜å‚¨æ¡¶å’Œæƒé™ç­–ç•¥
```

### 2. è¿ç§»ç°æœ‰æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
```bash
# å¦‚æœéœ€è¦è¿ç§»ç°æœ‰æ–‡ä»¶ï¼Œè¿è¡Œï¼š
node migrate-to-unified-storage.js
```

### 3. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
```bash
# æµ‹è¯•æ‰€æœ‰ä¸Šä¼ åŠŸèƒ½ï¼š
node test-unified-storage.js
```

## ğŸ’¡ ä¼˜åŠ¿

1. **ç®€åŒ–ç®¡ç†** - åªéœ€ç®¡ç†1ä¸ªå­˜å‚¨æ¡¶
2. **ç»Ÿä¸€æƒé™** - ä¸€å¥—RLSç­–ç•¥æå®šæ‰€æœ‰
3. **æ¸…æ™°åˆ†ç±»** - æŒ‰åŠŸèƒ½åˆ†ç›®å½•å­˜å‚¨
4. **æ˜“äºç»´æŠ¤** - å‡å°‘é…ç½®å¤æ‚åº¦
5. **æˆæœ¬æ›´ä½** - å‡å°‘å­˜å‚¨æ¡¶æ•°é‡

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å¤‡ä»½æ•°æ®** - è¿ç§»å‰è¯·å¤‡ä»½ç°æœ‰æ–‡ä»¶
2. **æµ‹è¯•åŠŸèƒ½** - è¿ç§»åæµ‹è¯•æ‰€æœ‰ä¸Šä¼ åŠŸèƒ½
3. **æ›´æ–°å¼•ç”¨** - ç¡®ä¿æ‰€æœ‰ä»£ç éƒ½ä½¿ç”¨æ–°çš„å­˜å‚¨æ¡¶
4. **æƒé™éªŒè¯** - ç¡®è®¤æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½æ­£å¸¸ä¸Šä¼ /ä¸‹è½½

## ğŸš€ å®ŒæˆçŠ¶æ€

- [x] åˆ›å»ºç»Ÿä¸€å­˜å‚¨æ¡¶
- [x] æ›´æ–°ä»£ç å¼•ç”¨
- [ ] æ‰§è¡Œ SQL è„šæœ¬
- [ ] è¿ç§»ç°æœ‰æ–‡ä»¶
- [ ] æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

